BackpackFix:
  type: assignment
  actions:
    on click:
    - flag player Backpack:!
BackpackSkill:
  type: task
  script:
  - if <player.has_flag[Backpack]>
    {
    - narrate "You have already obtained a backpack before."
    }
    else 
    {
    - give MinerBackpack
    - narrate "Do not lose this backpack, as it will not be replaced."
    - flag player Backpack
    }
FishingAddon:
  type: task
  script:
  - narrate "You are now a Deep Sea Fisherman."
  - flag player DeepSeaFish
GunsmithPathway:
  type: task
  script:
  - if <player.has_flag[Gunsmith]> 
    {
    - narrate "You already are a Gunsmith."
    }
    else 
    {
    - narrate "You are now a Gunsmith."
    - flag player Gunsmith
    }
SmithPathway1a:
  type: task
  script:
  - if <player.has_flag[SmithPathway1]>
    {
    - narrate "You already have a pathway."
    }
    else
    {
    - narrate "You are now an Armorsmith."
    - flag player ArmorSmith
    - flag player SmithPathway1
    }
SmithPathway1b:
  type: task
  script:
  - if <player.has_flag[SmithPathway1]>
    {
    - narrate "You already have a pathway."
    }
    else
    {
    - narrate "You are now a Weaponsmith."
    - flag player WeaponSmith
    - flag player SmithPathway1
    }
SmithPathway1c:
  type: task
  script:
  - if <player.has_flag[SmithPathway1]>
    {
    - narrate "You already have a pathway."
    }
    else
    {
    - narrate "You are now a Toolsmith."
    - flag player ToolSmith
    - flag player SmithPathway1
    }

SmithPathway2a:
  type: task
  script:
  - if <player.has_flag[SmithPathway2]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[ArmorSmith]>
    {
    - narrate "You are already an Armorsmith."
    }
    else
    {
    - narrate "You are now an Armorsmith."
    - flag player ArmorSmith
    - flag player SmithPathway2
    }
SmithPathway2b:
  type: task
  script:
  - if <player.has_flag[SmithPathway2]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[WeaponSmith]>
    {
    - narrate "You are already a Weaponsmith."
    }
    else
    {
    - narrate "You are now a Weaponsmith."
    - flag player WeaponSmith
    - flag player SmithPathway2
    }
SmithPathway2c:
  type: task
  script:
  - if <player.has_flag[SmithPathway2]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[ToolSmith]>
    {
    - narrate "You are already a Tool smith."
    }
    else
    {
    - narrate "You are now a Toolsmith."
    - flag player ToolSmith
    - flag player SmithPathway2
    }
SmithPathway3a:
  type: task
  script:
  - if <player.has_flag[SmithPathway3]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[ArmorSmith]>
    {
    - narrate "You are already an Armorsmith."
    }
    else
    {
    - narrate "You are now an Armorsmith."
    - flag player ArmorSmith
    - flag player SmithPathway3
    }
SmithPathway3b:
  type: task
  script:
  - if <player.has_flag[SmithPathway3]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[WeaponSmith]>
    {
    - narrate "You are already a Weaponsmith."
    }
    else
    {
    - narrate "You are now a Weaponsmith."
    - flag player WeaponSmith
    - flag player SmithPathway3
    }
SmithPathway3c:
  type: task
  script:
  - if <player.has_flag[SmithPathway3]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[ToolSmith]>
    {
    - narrate "You are already a Tool smith."
    }
    else
    {
    - narrate "You are now a Toolsmith."
    - flag player ToolSmith
    - flag player SmithPathway3
    }
FarmerPathway1a:
  type: task
  script:
  - if <player.has_flag[FarmerPathway1]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[AnimalFarmer]>
    {
    - narrate "You are already an Animal Farmer."
    }
    else
    {
    - narrate "You are now an Animal Farmer."
    - flag player AnimalFarmer
    - flag player FarmerPathway1
    }
FarmerPathway1b:
  type: task
  script:
  - if <player.has_flag[FarmerPathway1]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[PlantFarmer]>
    {
    - narrate "You are already a Plant Farmer."
    }
    else
    {
    - narrate "You are now a Plant Farmer."
    - flag player PlantFarmer
    - flag player FarmerPathway1
    }
FarmerPathway2a:
  type: task
  script:
  - if <player.has_flag[FarmerPathway2]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[AnimalFarmer]>
    {
    - narrate "You are already an Animal Farmer."
    }
    else
    {
    - narrate "You are now an Animal Farmer."
    - flag player AnimalFarmer
    - flag player FarmerPathway2
    }
FarmerPathway2b:
  type: task
  script:
  - if <player.has_flag[FarmerPathway2]>
    {
    - narrate "You already have a pathway."
    }
  - if <player.has_flag[PlantFarmer]>
    {
    - narrate "You are already a Plant Farmer."
    }
    else
    {
    - narrate "You are now a Plant Farmer."
    - flag player PlantFarmer
    - flag player FarmerPathway2
    }
MiningSkillScript:
  type: task
  script:
  - flag player MinerSkill
SmithPatchSkill:
  type: task
  script:
  - flag player Smith1
  - flag player Smith2
IronPickSkill:
  type: task
  script:
  - if <player.inventory.contains[iron_ingot].quantity[3]>
    {
    - if <player.inventory.contains[stick].quantity[2]>
      {
      - if <player.inventory.contains[CraftingGem]>
        {
        - take iron_ingot.quantity[3]
        - take stick.quantity[2]
        - take CraftingGem
        - give iron_pickaxe
        }
        else {
        - narrate "You do not have the necessary supplies."
        }
      }
      else {
      - narrate "You do not have the necessary supplies."
      }
    }
    else {
    - narrate "You do not have the necessary supplies."
    }
SkillsFlags:
  type: world
  events:
    on player unlocks Brewing Guide:
      - execute as_op "pex user <player.name> add brewery.openbarrel"
pickfix:
  type: task
  script:
  - take i@golden_pickaxe
appraise:
  type: task
  script:
  - if <i@Ruby> == <player.item_in_hand>
    {
    - take i@Ruby
    - give i@ARuby
    - narrate "You look over the material... recognizing it."
    }
    else {
    - if <i@Prometheum> == <player.item_in_hand>
      {
      - take i@Prometheum
      - give i@APrometheum
      - narrate "You look over the material... recognizing it."
      }
      else {
      - if <i@Adamantine> == <player.item_in_hand>
        {
        - take i@Adamantine
        - give i@AAdamantine
        - narrate "You look over the material... recognizing it."
        }
        else {
        - if <i@Mithril> == <player.item_in_hand>
          {
          - take i@Mithril
          - give i@AMithril
          - narrate "You look over the material... recognizing it."
          }
          else {
          - if <i@AstralSilver> == <player.item_in_hand>
            {
            - take i@AstralSilver
            - give i@AAstralSilver
            - narrate "You look over the material... recognizing it."
            }
            else {
            - if <i@Titanium> == <player.item_in_hand>
              {
              - take i@Titanium
              - give i@ATitanium
              - narrate "You look over the material... recognizing it."
              }
              else {
              - if <i@Aether> == <player.item_in_hand>
                {
                - take i@Aether
                - give i@AAether
                - narrate "You look over the material... recognizing it."
                }
                else {
                - if <i@Darksteel> == <player.item_in_hand>
                  {
                  - take i@Darksteel
                  - give i@ADarksteel
                  - narrate "You look over the material... recognizing it."
                  }
                  else {
                  - if <i@Cobalt> == <player.item_in_hand>
                    {
                    - take i@Cobalt
                    - give i@ACobalt
                    - narrate "You look over the material... recognizing it."
                    }
                    else {
                    - if <i@Quicksilver> == <player.item_in_hand>
                      {
                      - take i@Quicksilver
                      - give i@AQuicksilver
                      - narrate "You look over the material... recognizing it."
                      }
                      else {
                      - if <i@Lightstone> == <player.item_in_hand>
                        {
                        - take i@Lightstone
                        - give i@ALightstone
                        - narrate "You look over the material... recognizing it."
                        }
                        else {
                        - if <i@Bronze> == <player.item_in_hand>
                          {
                          - take i@Bronze
                          - give i@ABronze
                          - narrate "You look over the material... recognizing it."
                          }
                          else {
                          - if <i@Platinum> == <player.item_in_hand>
                            {
                            - take i@Platinum
                            - give i@APlatinum
                            - narrate "You look over the material... recognizing it."
                            }
                            else {
                            - narrate You are not holding an unknown mineral/gem.
                            }
                          }
                        }
                      }
                    }
                  }
                }
                
              }
            }
          }
        }
      }
    }