bakermoma:
  type: assignment
  actions:
    on assignment:
    - chat "Assignment Set!"
    - trigger name:click state:true
  interact scripts:
  - 1 bakermomi
bakermomi:
  type: interact
  steps:
    1:
      Click trigger:
        script:
        - chat "Oh, hullo there honey. What can an old lady do for you?"
      Proximity trigger:
        Entry:
          script:
          - random {
            - chat "Welcome to the Norro bakery! Please, come in, sweetie."
            - chat "Good morning there honey. Can I get you something?"
            - chat "*Warm, yummy smells fill the air.*"
            - chat "A warm welcome to you dear, come in."
            }
        Exit:
          script:
          - chat "Take care, sweetie!"
          
      Chat trigger:
        1:
          trigger: /Regex:Hello|Hi|Greetings|Hey/.
          script:
            - chat "A warm welcome to you, dear. What can I do for you today?"
            - wait 1
            - chat "Would you like some baked goods? A sugary treat to keep you tidy?"
            - wait 1
            - chat "The menu is on the wall, if you would like something."
            - if <player.has_flag[freecookie]> {
              - chat "*She continues cooking behind the counter.*"}
              else {
              - wait 1
              - chat "Oh dearie! I nearly forgot to give you a sample! Fresh cookies every day."
              - give i@chocolatechip
              - flag player freecookie duration:22h }
        2:
          trigger: /Regex:donut|donuts|Donut|Donuts/.
          script:
            - chat "Ah, a sweet ring for the morning. I sell them by the half-dozen dear. Would you like a half-dozen or a dozen?"
            - narrate "Options: Twelve/Six"
            - zap step:donutpay
        3:
          trigger: /Regex:danish|Danish/.
          script:
            - chat "A danish for you? Strawberry or Raspberry?"
            - zap step:danishpay
        4:
          trigger: /Regex:Tiramisu|tiramisu/.
          script:
            - chat "A house special, per request. I sell it by the whole sheet dear for twenty widgets."
            - wait 2
            - chat "Is that fair to you?"
            - zap step:tiramisupay
        5:
          trigger: /Regex:Monkey Bread|monkey/.
          script:
            - chat "Ah, a fan favorite. I sell those by the loaf, 5 widgets a piece. Sound fair?"
            - zap step:monkeybreadpay
        6:
          trigger: /Regex:Cookie|cookie/
          script:
            - chat "What kind of cookie would you like?"
            - zap step:cookiepay
        7:
          trigger: /Regex:Cake|Pie|pie/
          script:
            - chat "What kind of cake would you like?"
            - zap step:cakepay
        8:
          trigger: /Regex:Bread/
          script:
            - chat "Regular old bread? Why, that's at the counter behind you!"
            - zap 1
    monkeybreadpay:
      Click trigger:
        - chat "I'll sell the loaf for 5 widgets, is that fair?"
      Chat trigger:
        1:
          trigger: /Regex:Yes/
          script:
            - if "<player.money>" < "5" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 5"
              - give i@monkeybread
              - chat "Thank you for your patronage. Take care!"
              - zap 1
              }
        2:
          trigger: /Regex:No|Not|Goodbye/.
          script:
            - chat "I apologize sweetie. Perhaps there's something else?"
            - zap 1

    cakepay:
      Click trigger:
        script:
          - chat "What kind of cake would you like?"
      Chat trigger:
        1:
          trigger: /Regex:lemon|Lemon/.
          script:
            - chat "One lemon merangue pie!"
            - wait 1
            - if "<player.money>" < "20" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 20"
              - chat "Here you are!"
              - give i@lemonpie
              - chat "Have a good day!"
              - zap 1
              }
        2:
          trigger: /Regex:yellow|Yellow/.
          script:
            - chat "One yellow cake with chocolate icing!"
            - if "<player.money>" < "20" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 20"
              - chat "Here you are!"
              - give i@yellowcake
              - chat "Have a good day!"
              - zap 1
              }
        3:
          trigger: /Regex:lime|Lime/.
          script:
            - chat "One key lime pie!"
            - if "<player.money>" < "20" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 20"
              - chat "Here you are!"
              - give i@limepie
              - chat "Have a good day!"
              - zap 1
              }
        4:
          trigger: /Regex:No|Goodbye|Nevermind/
          script:
            - inject goodbye
    cookiepay:
      Click trigger:
        script:
          - chat "What kind of cookie would you like?"
          - narrate "Chocolate Chip, Snickerdoodle, Peanut Butter."
      Chat trigger:
        1:
          trigger: /Regex:Chocolate|Chip/.
          script:
            - chat "Chocolate chip, my favorite. I sell them by the half-dozen, dear. Would you like six or twelve?"
            - zap step:chocolatepay
        2:
          trigger: /Regex:snickerdoodle|Snickerdoodle/.
          script:
            - chat "Snickerdoodles, yes. I sell them by the half-dozen, dear. Would you like six or twelve?"
            - zap step:snickerdoodlepay
        3:
          trigger: /Regex:peanut|butter|Peanut|Butter/.
          script:
            - chat "I sell those by the half-dozen, dear. Would you like six or twelve?"
            - zap step:peanutbutterpay
        4:
          trigger: /Regex:no|nevermind|Goodbye/.
          script:
            - inject goodbye
    peanutbutterpay:
      Click trigger:
        script:
          - chat "Would you like six or twelve?"
      Chat trigger:
        1:
          trigger: /Regex:Six|6|six/.
          script:
            - chat "Six peanut butter, coming right up."
            - if "<player.money>" < "4" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 4"
              - chat "Here you are!"
              - give i@peanutbuttercookie quantity:6
              - chat "Have a good day!"
              - zap 1
              }
        2:
          trigger: /Regex:Twelve|12|twelve/.
          script:
            - chat "Twelve cookies, my my are we hungry!"
            - if "<player.money>" < "8" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 8"
              - chat "Here you are!"
              - give i@peanutbuttercookie quantity:12
              - chat "Have a good day!"
              - zap 1
              }
        3:
          trigger: /Regex:none|zero|0|nevermind|Goodbye/.
          script:
            - chat "No worries, dear."
            - zap 1
    snickerdoodlepay:
      Click trigger:
        script:
          - chat "Would you like six or twelve snickerdoodles?"
      Chat trigger:
        1:
          trigger: /Regex:Six|6|six/.
          script:
            - chat "Six snickerdoodles, coming right up."
            - if "<player.money>" < "4" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 4"
              - chat "Here you are!"
              - give i@snickerdoodle quantity:6
              - chat "Have a good day!"
              - zap 1
              }
        2:
          trigger: /Regex:Twelve|12|twelve/.
          script:
            - chat "Twelve cookies, my my are we hungry!"
            - if "<player.money>" < "8" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 8"
              - chat "Here you are!"
              - give i@snickerdoodle quantity:12
              - chat "Have a good day!"
              - zap 1
              }
        3:
          trigger: /Regex:none|zero|0|nevermind|Goodbye/.
          script:
            - chat "No worries, dear."
            - zap 1
    chocolatepay:
      Click trigger:
        script:
          - chat "Would you like six or twelve chocolate chip cookies?"
      Chat trigger:
        1:
          trigger: /Regex:Six|6|six/.
          script:
            - chat "Six chocolate chip cookies, coming right up."
            - if "<player.money>" < "4" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 4"
              - chat "Here you are!"
              - give i@chocolatechip quantity:6
              - chat "Have a good day!"
              - zap 1
              }
        2:
          trigger: /Regex:Twelve|12|twelve/.
          script:
            - chat "Twelve cookies, my my are we hungry!"
            - if "<player.money>" < "8" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 8"
              - chat "Here you are!"
              - give i@chocolatechip quantity:12
              - chat "Have a good day!"
              - zap 1
              }
        3:
          trigger: /Regex:none|zero|0|nevermind|Goodbye/.
          script:
            - chat "No worries, dear."
            - zap 1
    donutpay:
      Click trigger:
        script:
        - "Ah, a sweet ring for the morning. I sell them by the half-dozen dear. Would you like a half-dozen or a dozen?"
      Chat trigger:
        1:
          trigger: /Regex:6|six|half|Six|/.
          script:
            - chat "A half dozen it is sweetie. That'll be 7 widgets."
            - if "<player.money>" < "7" {
              - inject bakerfail
              else {
              - execute as_op "eco take <player.name> 7"
              - give i@donut quantity:6
              - chat "There you are. Have a good day sweetie!"
              }
        2:
          trigger: /Regex:12|twelve|dozen|Twelve|Dozen/.
          script:
            - chat "A dozen it is sweetie. That'll be fourteen widgets."
            - if "<player.money>" < "14" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 14"
              - give i@donut quantity:12
              - chat "There you are. Have a good day sweetie!"
              }
        3:
          trigger: /Regex:No|Goodbye|Nevermind/.
          script:
            - chat "No worries dear, take care!"
            - zap 1
    danishpay:
      Click trigger:
        script:
          - chat "Strawberry or raspberry?"
      Chat trigger:
        1:
          trigger: /Regex:strawberry|Strawberry/.
          script:
            - chat "A straberry danish, coming right up." 
            - wait 1
            - chat "That'll be 4 widgets."
            - wait 2
            - if "<player.money>" < "4" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 4"
              - chat "Enjoy the danish, sweetie! Come back soon."
              - give i@strawberrydanish
              - zap 1
              }
        2:
          trigger: /Regex:Raspberry|raspberry/.
          script:
            - chat "A raspberry danish, coming right up." 
            - wait 1
            - chat "That'll be 4 widgets."
            - wait 2
            - if "<player.money>" < "4" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 4"
              - chat "Enjoy the danish, sweetie! Come back soon."
              - give i@raspberrydanish
              - zap 1
              }
    tiramisupay:
      Click trigger:
        - chat "I'll sell the whole cake to you for twenty widgets, is that fair?"
      Chat trigger:
        1:
          trigger: /Regex:Yes/
          script:
            - if "<player.money>" < "20" {
              - inject bakerfail
              }
              else {
              - execute as_op "eco take <player.name> 20"
              - give i@tiramisu
              - chat "Thank you for your patronage. Take care!"
              - zap 1
              }
        2:
          trigger: /Regex:No|Not|Goodbye/.
          script:
            - chat "I apologize sweetie. Perhaps there's something else?"
            - zap 1

goodbye:
  type: task
  script:
  - chat "I apologize sweetie. Perhaps there's something else?"
  - zap 1  
bakerfail:
  type: task
  script:
    - chat "You don't have the widgets for that, sweetie."
    - wait 1
    - chat "Perhaps there's something else?"
    - zap 1
donut:
  type: item
  material: cookie
  display name: <&6>Flakey Donut
  lore:
  - A delicious treat fresh from the 
  - Grand Sonnarie Bakery. 
  - A sugar glaze shines in the light.
strawberrydanish:
  type: item
  material: cookie[flags=HIDE_ENCHANTS]
  display name: <&c>Strawberry Danish
  lore:
  - A strawberry filled danish
  - with a light sugar glaze drizzled
  - on top. Yum.
raspberrydanish:
  type: item
  material: cookie[flags=HIDE_ENCHANTS]
  display name: <&c>Raspberry Danish
  lore:
  - A raspberry filled danish
  - with a alight sugar glaze drizzled
  - on top. Yum.
tiramisu:
  type: item
  material: cake
  display name: <&b>Tiramisu
  lore:
  - An exquisitely crafted cake,
  - a coffee-flavored custard on
  - coffee-dipped ladyfingers, topped
  - off with cocoa coating.
limepie:
  type: item
  material: pumpkin_pie
  display name: <&a>Key Lime Pie
  lore:
  - A citrus rich key lime pie.
  - A favorite of some natives.
lemonpie:
  type: item
  material: pumpkin_pie
  display name: <&e>Lemon Meringue Pie
  lore:
  - A citrus rich lemon pie.
  - The grand aroma spreads throughout
  - the air, puckering the nose.
yellowcake:
  type: item
  material: cake
  display name: <&e>Yellow Cake with Chocolate Icing
  lore:
  - The one true perfect cake.
chocolatechip:
  type: item
  material: cookie
  display name: <&6>Chocolate Chip Cookie
  lore:
  - Somehow, the baker made these cookies
  - in a permanent state of just barely melting,
  - the perfect warm, gooey chocolate state.
snickerdoodle:
  type: item
  material: cookie
  display name: <&a>Snickerdoodle
  lore:
  - Sugar. So much. So great.
peanutbuttercookie:
  type: item
  material: cookie
  display name: <&6>Peanut Butter Cookie
  lore:
  - A well baked Peanut Butter Cookie.
  - Not too crumbly, not to hard.
monkeybread:
  type: item
  material: bread
  display name: <&2>Monkey Bread
  lore:
  - A fluffy, sweet, soft, sticky pastry
  - which consists of soft baked dough,
  - sprinkled with cinnamon. 