
FluA:
  type: task
  script:
  - flag player Flu:1
  - flag player FluStatus:++
  - run FluB

FluB:
  type: task
  script:
  - if <player.flag[Flu].as_int> != 0 {
    - run FluEffects
    - wait 5
    - flag player FluCounter:++
    - if <player.flag[FluCounter].as_int> == 4
      {
      - flag player FluCounter:0
      - flag player FluStatus:++
      - if <player.flag[FluStatus].as_int> >= 3
        {
        - flag player Flu:++
        - flag player FluStatus:1
        - narrate "Due to lack of Medicine, your condition has grown more severe and will have stronger effects."
        }
      - narrate "Due to lack of Medicine, your condition has spread and will be harder to cure."
      }
    - run FluB
    }
    else
    {
    - narrate "Your Flu has been cured."
    - flag player Flu:0
    - flag player FluStatus:0
    - flag player FluCounter:0
    }

FluEffects:
  type: task
  script:
  - narrate "You've taken damage!"
  - run FluCheck

FluC:
  type: task
  script:
  - if <player.flag[FluStatus].as_int> != 0 
    {
    - flag player FluStatus:--
    - if <player.flag[FluStatus].as_int> == 0 
      {
      - if <player.flag[Flu].as_int> > 1 
        {
        - flag player Flu:--
        - flag player FluStatus:3
        }
        else 
        {
        - flag player Flu:--
        }
      }
    }

FluWorld:
  type: world
  events:
    on player consumes POTION:
    - run FluC
FluCheck:
  type: task
  script:
  - narrate "Your Flu is currently level <player.flag[Flu].as_int>."
  - narrate "Your Flu's potency is currently <player.flag[FluStatus].as_int>."
    
#Effect Events: Diarrhea, Hallucinations, Shallow Breathing, Rashes, 
#Rotting Flesh, Weakening of Bones, DEATH, purple, exhaustion, 
#coughing, bloodshot eyes, headaches, sneezing
#hiccups, vomiting, fever

